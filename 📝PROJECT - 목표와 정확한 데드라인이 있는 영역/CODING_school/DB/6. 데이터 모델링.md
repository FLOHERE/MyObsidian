- 학습목표
	- 데이터 모델링의 개념 이해
	- 개념적 모델링 단계에 사용하는 ER모델 및 작성 방법 이해
	- erwin 프로그램 사용 -> 모델 작성
	- 마당대학 데이터베이스를 ER모델로 직접 설계

## 01) 데이터 모델링의 개념
- 데이터 모델링의 중요성
- 데이터베이스 생명 주기
- 데이터 모델링 과정

### 01-1) 데이터 모델링의 중요성
- 데이터 모델링
	- 건축의 지반 설계와 같은역할
	- 잘못 설계되면 오래갈수 없음
- 데이터베이스 설계 : 질의속도, 관계
- 순서
	1. 현실세계 개념을 정보 모델링 함
	2. 개념적 모델(ER 다이어그램) 작성한 후 데이터 모델링
	3. 논리적 모델(관계 데이터 모델)구축 후 DB로 구현
	4. 데이터베이스 완성!
	- 데베 = 현실세계
![[Pasted image 20240615153126.png]]

### 01-2) 데이터베이스 생명주기
- 데이터베이스 생명주기(database life cycle)
	- 데이터베이스의 생성과 운영에 관한 특징
1. 요구사항 수집 및 분석
2. 설계
3. 구현
4. 운영
5. 감시 및 개선

#### 1. 요구사항 수집 및 분석
- 사용자들의 요구사항을 듣고 분석 -> 데이터베이스 구축의 범위 지정

#### 2. 설계
1. 개념적 설계
	- 개념과 업무 프로세스 식별
	- 중요 개념을 구분
		- 핵심 Entitiy(독립개체) 도출
		- ERD 작성
2. 논리적 설계
	- 사용하는 DBMS의 종류에 맞게 변환
	- 각 개념을 구체화
		- ERD - RDB 모델 사상
		- 상세 속성 정의
		- 정규화
3. 물리적 설계
	- 데이터베이스 스키마 도출
	- 데이터베이스 생성 계획에 따라 개체, 인덱스 생성
		- DB 개체 정의
		- 테이블 및 인덱스 등 설계

#### 3. 구현
- 앞 단계에서 생성한 스키마 -> 실제 DBMS에 적용
- 테이블 및 관련객체(뷰, 인덱스) 생성

#### 4. 운영
- 구현된 데이터베이스를 기반 -> 소프트웨어 구축 -> 서비스 제공

#### 5. 감시 및 개선
- 데이터베이스 운영에 따른 시스템의 문제를 관찰
- 데이터 베이스 자체의 문제점 파악후 개선

### 01-3) 요구사항 수집 및 분석
- 요구사항 수집 방법
	1. 실제 문서 수집, 분석
	2. 담당자와의 인터뷰나 설문조사
	3. 비슷한 업무를 처리하는 기존의 데이터베이스 분석
	4. 각 업무와 연관된 모든 부분 살펴봄

### 01-4) 개념적 모델링
- 개념적 모델링(conceptual modeling)
	- 요구사항을 수집, 분석 결과를 토대로 업무의 핵심적인 개념을 구분, 전체적인 뼈대 생성
	- 개체(entity)를 추출, 관계 정의
	- ERD(Entity Relationship Diagram)을 만드는 과정까지.

### 01-5) 논리적 모델링
- 논리적 모델링 (logical modeling)
	- 개념적 모델링에서 만든 ER 다이어그램을 사용하려는 DBMS에 맞게 사상(maping, 매핑)
	  -> 실제 데이터베이스로 구현하기 위한 모델을 만드는 과정
	- 논리적 모델링 과정
		1. 개념적 모델링에서 추출하지 않았던 상세 속성들을 모두 추출
		2. 정규화 수행
		3. 데이터 표준화 수행

### 01-6) 물리적 모델링
- 물리적 모델링(Physical modeling)
	- 작성된 논리적 모델 -> 실제 컴퓨터 저장장치에 저장을 위해 물리적 구조를 정의, 구현하는 과정
- 물리적 모델링 시 트랜잭션, 저장 공간 설계 측면에서 고려할 사항
	- 응답시간 최소화
	- 얼마나 많은 트랜잭션을 동시에 발생시킬수 있는지 검토
	- 데이터가 저장될 공간을 효율적으로 배치해야 함

## 02. ER 모델
- 개체와 개체 타입
- 속성
- 관계와 관계 타입
- 약한 개체 타입과 식별자
- IE 표기법

### 02-1) ER 모델
- ER(Entity Relationship)모델
	- 모델링 과정중 개념적 모델링에 사용하는 모델
		- Peter Chen이 제안
	- 세상의 사물을 개체(entity)와 개체간의 관계(relationship)로 표현
	- 개체
		- 독립적인 의미를 지니고 있는 유무형의 사람 또는 사물
		- 개체의 특성을 나타내는 속성(attribute)에 의해 식별
		- 개체끼리 서로 관계를 가짐
- ER 다이어 그램 : 개체와 개체간 관계를 표준화된 그림으로 나타낸것.
![[Pasted image 20240615163146.png]]

### 02-2) 개체와 개체 타입
- 개체(entity)
	- 유무형의 정보를 가지고 있는 독립적인 실체(ex : 사람, 사물, 장소, 개념, 사건)
	- 데이터베이스에서 주로 다루는 개체
		- 낱개로 구성된것
		- 낱개가 각각 데이터 값을 가지는 것
		- 데이터 값이 변하는 것
	- 비슷한 속성의 개체 타입(entity type)을 구성, 개체 집합(entity set)으로 묶임
- 개체가 가지는 특징
	- 유일한 식별자에 의해 식별 가능
	- 꾸준한 관리를 필요로 하는 정보
	- 두 개 이상 영속적으로 존재
	- 업무 프로세스에 이용됨
	- 반드시 자신의 특징을 나타내는 속성을 포함
	- 다른 개체와 최소한 한개 이상의 관계를 맺고 있음

### 02-4) 개체 타입과 ER다이어 그램 표현
- ER 다이어 그램상에서 개체 타입은 직사각형으로 나타냄
- 개체 타입의 유형
	- 강한 개체(strong entity)
		- 다른 개체의 도움 없이 독자적으로 존재 가능
	- 약한 개체(weak entity)
		- 독자적으로는 존재할수 없고 반드시 상위 개체 타입을 가짐
![[Pasted image 20240615163743.png]]

### 02-5) 속성
- 속성(attibute)
	- 개체가 가진 성질
	- ex_) 
		- 개체타입 : 도서 / 속성 : 도서이름, 출판사, 도서단가
		- 도서 이름 : '축구의 역사'
		- 출판사 : '굿 스포츠'
		- 가격 : 8000원
- 속성의 ER 다이어그램 표현
	- 속성 : 타원
	- 개체타입 : 직사각형 + 실선으로 연결
	- 속성 이름 : 타원의 중앙에 표기
	- 키(속성개체를 유일하게 식별) : 속성 이름에 밑줄
![[Pasted image 20240615164806.png]]

- 단순 속성과 복합 속성(simple attribute & composite attribute)
	- 더 작은 단위로 분해할수 있는지에 따라 단순/복합 속성으로 구분
		- 단순 속성 : 더이상 분해가 불가능
		- 복합 속성 : 독립적인 의미를 가진 속성, 분해 가능
![[Pasted image 20240615170216.png]]

- 단일값 속성과 다중값 속성(single-value / multi-value)
	- 속성은 속성값의 개수에 따라 단일/다중으로 나뉨
		- 단일값 : 하나의 값만을 가지는 속성
		- 다중값 : 여러개의 값을 가지는 속성
![[Pasted image 20240615170435.png]]

- 저장 속성과 유도 속성(stored / derived)
	- 다른 속성으로부터 유도될수 있는지에 따라 저장, 유도로 구분
		- 저장 속성 : 다른 속성의 영향 없이 단독으로 저장되는 속성
		- 유도 속성: 다른 저장 속성으로 부터 유도된(계산된 속성)
		- ex_) '나이' 라는 개체는 '생년월일'에서 계산되기 때문에(정보를 가져오기 때문에) 유도속성이다.
![[Pasted image 20240615170559.png]]

### 02-6) 속성의 유형
![[Pasted image 20240615170948.png]]

### 02-7) 관계와 관계 타입
- 관계(relationship)
	- 개체 사이의 연관성을 나타내는 개념
- 관계타입(relationship type)
	- 개체 타입과 개체타입간의연결 가능한 관계
	- 관계 집합(relationship set)은 관계로 연결된 집합을 의미
![[Pasted image 20240615171952.png]]

### 02-8) 차수에 따른 관계타입의 유형
- 차수에 따른 유형
	- 관계 집합에 참가하는 개체 타입의 수를 관계타입의 차수(degree)라고 함
	- 차수에 따라 n진 관계로 표현이 가능
![[Pasted image 20240615172151.png]]

- 관계 대응수(cardinality)
	- 두 개체 타입의 관계에 실제로 참여하는 개별 개체 수
![[Pasted image 20240615172527.png]]

#### 1. 일대일(1:1)관계
![[Pasted image 20240615172834.png]]

#### 2. 일대다(1:N), 다대일(N:1) 관계
- 실제 일상생활에서 가장 많이 보임
- 한쪽 개체타입의 개체 하나가 다른쪽 개체타입의 여러 개체와 관계를 맺음
![[Pasted image 20240615172935.png]]

#### 3. 다대다(M:N) 관계
- 각 개체 타입의 개체들이 서로 임의의 개수의 개체들과 서로 복합적인 관계를 맺고 있는 관계
![[Pasted image 20240615173026.png]]

- 관계 대응수의 최솟값과 최댓값
	- 최댓값 : 1, N, M 부분을 말함
		- 각 객체가 관계에 참여하는 최댓값
	- 최솟값을 표시하지 않는다는 단점 보완 -> 다이어그램에서는 최소, 최대 표시
	- * : 임의의 수
![[Pasted image 20240615173926.png]]

- 최솟값과 최댓값의 표기
	- 각 객체의 관점 -> 관계에 참여하는 횟수
	- 해당 개체쪽에 표기하는것에 유의

### 02-9) IS-A 관계
- 상위 개체 타입의 특성에 따라 하위 개체 타입이 결정되는 형태
	- 개체 집합들이 맺고 있는 상하 관계
		- 상위 개체 타입 : 수퍼 클래스
		- 하위 개체 타입 : 서브 클래스
	- is-a 관계는 역삼각형으로 표현
		- 위:슈퍼
		- 아래 : 서브
![[Pasted image 20240615174528.png]]

- 학생 신분
	- 휴학생
	- 재학생
	- 졸업생
- 상위 개체인 학생 개체 타입  = 슈퍼 클래스
	- 학생이 가지는 공통 속성을 가짐
	- 서브클래스에 상속
- 각각의 서브클래스는 자신만이 보유한 고유 속성을 가짐
![[Pasted image 20240615174641.png]]

### 02-10) 참여 제약 조건
- 개체 집합 내 모든 개체가 고나계에 참여하는지 유무에 따라 두가지로 나뉨
	- 전체 참여
		- 개체 집합의 모든 개체 참여
		- 최솟값 1이상
	- 부분참여
		- 일부분만 참여
		- 최솟값 0 이상

![[Pasted image 20240615174855.png]]

### 02-11) 역할(Role)
- 개체 타입 간의 관계를 표현 할때 각 개체들은 고유 역할 수행
	- 관계선에서 역할을 명하는 형태로 표현
![[Pasted image 20240615175017.png]]

### 02-12) 순환적 관계
- 순환적 관계(recursive relationship)
	- 하나의 개체 타입이 동일한 개체타입(자기 자신)과 순환적으로 관계를 가지는 형태
	- 관계선을 양쪽에 두개 그림
![[Pasted image 20240615175326.png]]

### 02-13) 약한 개체 타입과 식별자
- 개체 또는 강한 개체(strong entity) 타입
	- 독립적으로 식별할수 있는 개체를 가지고 있는 개체 타입
	- 각 개체를 식별할수 있는 기본키를 가짐
- 약한 개체(weak entity)
	- 종속된 개체 타입
		- 상위 개체 타입이 결정되지 않으면 개별 개체를 식별할수 없음
		- 자신의 기본 키만으로 식별이 어려움 -> 강한 개체 타입의 기본키 상속 받아 사용
	- 식별자(discriminator) or 부분키(partial key)
		- 독립적인 키로 존재X
		- 상위 개체 타입의 키와 결합
		- 약한 개체 타입의 개별 개체를 고유하게 식별가능

- 식별자와 관련된 ER 다이어 그램
	- 약한 개체 타입의 식별자는 점선으로 표시
![[Pasted image 20240615175839.png]]

![[Pasted image 20240615175902.png]]

### 02-14) IE(Information Engineering) 표기법
- 피터 첸이 제안한 ER 모델의 기본적인 표기법을 축약하여 표현
	- Erwin 등의 소프트웨어에서 사용, 새발 표기법
![[Pasted image 20240615180009.png]]

- IE 표기법에서 관계는 실선 혹은 점선으로 표현
	- ER에서는 마름모
![[Pasted image 20240615180154.png]]

- IE -> (강한관계, 비식별자 관계) : 점선
- IE -> (약한 관계, 식별자 관계) : 실선
![[Pasted image 20240615181130.png]]

## 03) ER 모델을 관계 데이터 모델로 사상
- 개체 타입의 사상
- 관계 타입의 사상
- 다중값 속성의 사상

### 03-1) 모델을 관계 데이터 모델로 사상
- 실제 데베 구축 -> 모델링 단계 필요
	- 이 단계에서 사상(mapping)이 이루어짐
![[Pasted image 20240615181448.png]]

### 03-2) 개체 타입의 사상
단계별 사상
1.  강한(정규) 개체 타입
	- 정규 개체타입 E -> 대응 릴레이션 R 생성
2.  . 약한 개체 타입
	- 자신의 키와 함께 강한 개체 타입의 키를 외래키로 사상,
	  자신의 기본키 구성
![[Pasted image 20240615181753.png]]

#### 관계 타입의 사상
- 이진 관계 타입 R을 사상하는 4가지 방법
	1. 오른쪽 개체 타입 E2를 기준으로 관계 R 표현
		- E1(KA1, A2) 
		- E2(KA2, A4, KA1)
			- KA : Key Attribute
			- An : Attribute
	2. 왼쪽 개체 타입 E1을 기준, 관계 R 표현
		- E1(KA1, A2, KA2)
		- E2(KA2, A4)
	3. 단일 릴레이션 ER로 모두 통합 -> R 표현 X
		- ER(KA1, A2, KA2, A4)
	4. 개체 타입 E1, E2와 관계타입 R을 모두 독립된 릴레이션으로 표현
		- E1(KA1, A2)
		- R(KA1, KA2)
		- E2(KA2, A4)

3. 이진 1:1 관계 타입
	- 모든 유형으로 사상 가능(1~4)
	- 개체가 가진 정보 유형에 따라 판단
![[Pasted image 20240615182515.png]]

4. 이진 1:N 관계 타입
	- 이진 1:N 관계 타입 -> N의 위치에 따라 1,2 유형으로 사상됨
![[Pasted image 20240615182601.png]]

5. 이진 M:N 관계 타입 -> 별도의 릴레이션을 분리
	- 이진 M:N 관계 타입은 4의 유형으로 사상
![[Pasted image 20240615182649.png]]

6. N진 관계 타입
![[Pasted image 20240615182708.png]]

#### 다중값 속성의 사상
7. 속성의 개수를 알수 없는 경우 1의 방법 사용
   속성의 개수가 제한적으로 정해지는 경우 2의 방법 사용
![[Pasted image 20240615182825.png]]

# 요약
- 데이터베이스 생명 주기
	- 데이터베이스를 설계, 구축하여 사용하다 보면 필요에 따라 개선하거나 다시 구축하는 등의 업무 반복
	- 데이터베이스 생성과 운영에 관련된 사이클
		- 요구사항 수집 및 분석 - 설계 - 구현 - 운영 - 감시 및 개선
- 개념적 모델링 
	- 요구 사항을 수집하고 분석한 결과를 가지고 업무의 핵심 개념을 구분하여 전체적인 뼈대를 만드는 과정
		- 개체(entity) 추출 -> 각 개체간 관계 정의 -> ER 다이어그램 만드는 과정 까지
- 논리적 모델링 
	- 개념적 모델링 단계에서 만들어진 ER 다이어그램을 사용하고자 하는 DBMS에 맞게 매핑
	- 실제 데이터베이스로 구현하기 위한 모델을 만드는 과정
- 물리적 모델링
	- 작성된 논리적 모델을 실제 컴퓨터의 저장 장치네 저장하기 위한 물리적 구조를 정의하고 구현하는 과정
- ER 모델
	- 데이터 모델링 과정 중 개념적 모델링 단계에 사용
	- ER 모델의 핵심 개념은 세상의 사물을 개체와 개체 간의 관계로 표현하는것
- 개체와 개체 타입
	- 개체
		- 사람, 사물, 장소, 개념 또는 사건과 같이 유무형의 정보를 가지고 있는 독립적인 실체
	- 개체 타입
		- 개체 집합은 공통된 속성을 가진 개체들의 모임
		- 개체 타입은 개체 집합의 이러한 동일한 특징
- 개체 타입의 종류
	- 강한 개체 타입
		- 다른 개체의 도음 없이 독자적으로 존재할수 있는 개체
	- 약한 개체 타입
		- 독자적으로는 존재 할수 없고 반드시 상위 개체 타입을 가져야 하는 개체
- 속성
	- 개체가 가진 성질
- 속성의 종류
	- 단순 속성과 복합 속성
		- 단순 속성 : 더이상 분해가 불가능한 속성
		- 복합 석성 : 독립적인 의미를 가진 속성으로 분해할수 있는 속성
	- 단일값 속성과 다중값 속성
		- 단일값 속성 : 특정 개체 타입에 대해 하나의 값만 가지는 속성
		- 다중값 속성 : 여러개의 값을 가질수 있는 속성
	- 저장 속성과 유도 속성
		- 저장 속성 : 다른 속성의 영향 없이 단독으로 저장되는 속성
		- 유도 속성 : 다른 저장 속성으로 부터 유도된 속성
- 관계와 관계 타입
	- 관계
		- 개체 사이의 연관성을 나타내는 개념
	- 관계 타입
		- 개체 타입과 개체 타입 간 연결 가능한 관계를 정의하는 것
- 관계 대응 수
	- 두 개체 타입의 관계에 실제로 참여하는 개별 개체들의 수
		- 1:1 : 하나의 개체가 하나의 개체에 대응하는 관계
		- 1:N : 하나의 개체가 여러 개체에 대응하는 관계
		- M:N : 여러 개체가 여러 개체에 대응하는 관계
- is-a(슈퍼클래스와 서브클래스)관계
	- 상위 개체의 특성에 따라 하위 개체 타입이 결정되는 형태를 말함
	- 슈퍼클래스 : 상위 개체 타입
	- 서브 클래스 : 하위 개체 타입
- 전체 참여와 부분 참여
	- 관계에 참여하는 개체의 참여 형태에 따른 제약 조건
		- 전체 참여 : 개체 집합의 모든 개체가 관계에 참여하는 조건
			- 개체 타입과 관계 사이트를 두 줄 실선으로 표시
		- 부분 참여 : 일부만 참여하는 조건
			- 일반적인 관계의 표현과 동일하게 단일 실선으로 표시
- 순환적 관계
	- 하나의 개체 타입이 동일한 개체와 순환적인 관계를 맺는 형태
		- 관계선을 양쪽 모두에 그림
- 식별자
	- 약한 개체 타입에서 개별 개체들을 구분할수 있는 속성
		- 약한 개체 타입을 구분 하는 역할(강한 개체 타입의 키)
- IE 표기법 (Information Engineering Notaion)
	- ER 다이어그램을 그리는 프로그램 : erwin
	- erwin에서 사용하는 표기법 중 하나.
	- 새발 표기법 사용
- 사상(mapping, 매핑)
	- ER 모델이 완성되면 실제 데이터베이스를 구축하기 위해 논리적 모델링을 수행하여야 함
	- ER모델과 사용할 데이터베이스간의 매핑