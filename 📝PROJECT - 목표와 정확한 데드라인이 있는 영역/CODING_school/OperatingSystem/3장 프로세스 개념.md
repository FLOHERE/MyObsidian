
## 01_소개
- 컴퓨터는 동시에 여러 기능을 수행
	- ex_) 프로그램을 컴파일 -> 파일을 프린터에 보냄 -> 웹페이지를 화면에 보여줌 + 이메일 받고 + 비디오 틀기(세개를 동시 진행)
	- 프로세스는 시스템을 동작시키고 동시에 수행되는 많은 활동을 관리
	- 프로세스는 프로세스 상태(Process state)를 변화
	- 운영체제는 프로세스 생성, 종료 , 일시정지, 재시작 , 깨우기 등과 같은 프로세스가 서비스 할때 수행하는 다양한 연산 제공

![[Pasted image 20250419124404.png]]

![[프로세스 상태.canvas]]


### 1.1 프로세스 정의 
- **실행중인 프로그램(Program in execution)**
1. 텍스트 영역(Text region)
	- 프로세서가 실행하는 코드를 저장하는 영역
2. 데이터 영역(Data region)
	- 데이터 영역 + 힙영역
		- 데이터 영역 : 변수들을 저장하는 영역
		- 힙 영역 : 프로세스가 실행중에 사용하려고 동적으로 할당받은 메모리 공간
3. 스택 영역(Stack region)
	- 함수 내 지역변수
	- 호출된 프로시저용으로 지역 변수와 명령어들을 저장하는 공간
	- 프로세스 중첩, 프로시저 호출 할수록 증가, 호출된 프로시저 수행을 마치고 반환할때마다 줄어듦

## 02_프로세스 상태 : 프로세스 생명 주기

### 2.1 프로세스 생명주기 동안의 구분된 프로세스 상태(Process state)
#### 실행 상태(runningㅌ state)
- 프로세스가 프로세서에서 실행 중

#### 준비 상태(Running state)
- 프로세스가 프로세서에서 실행 가능
- 특정 이벤트나 조건이 발생할때까지 대기

#### 블록 상태(Block State)
- 프로세스가 작업을 진행하기 앞서 특정 이벤트 발생을 대기(실행 X)
	- 사용자 프로세스가 스스로 일으키는 상태 전의

### 2.2 준비 리스트(Ready list)와 블록 리스트(blocked list)
#### 준비 리스트(Ready Queue)
- 우선순위 정보를 포함
- 리스트에서 우선순위가 가장 높은 첫번째 프로세스가 프로세서를 할당
- 큐의 특성상 순서대로 실행된다.(선입선출)

#### 블록 리스트
- 블록된 프로세스가 기다리는 이벤트가 발생하는 순서로 블록 해제
  -> 순서가 없다. (우선순위에 따라 블록 해제X)

>[!note] 단일 프로세서 시스템
>한버넹 한 프로세서만 실행 가능 but 준비 상태(or 블록상태)에서는 프로세스가 여러개 존재 가능

## 03_프로세스 관리
### 3.1 운영체제는 프로세스에 기본적인 서비스 수행
- 프로세스 생성(create)
- 프로세스 소멸(dstroy)
- 프로세스 일시 정지(suspend)
- 프로세스 재시작(resume)
- 프로세스 우선순위 변경(change priority)
- 프로세스 블록(block)
- 프로세스 깨우기(wake up)
- 프로세스 디스패치(dispatch)
	- 프로세스 상태를 중지 상태 -> 실행상태로 바꾸는것
- Intercrosses communication(IPC)
	- 프로세스끼리 의사 소통

>[!note] 디스패칭과 디스패처
>- 디스패칭 : 준비 리스트에 있는 첫번째 프로세스에 프로세서를 할당하는것.
>- 디스패처 : 디스패칭을 수행하는 시스템 개체

> 아래는 책 내용이다. 내가 중요하다고 생각했던거 정리함.
- 운영체제는 프로세서들의 실행 사이에 끼어들면서 프로세서들이 인터럽트됨 -> 재시작 할때 오류 생기지 않게 관리해준다.
	- 단순한 프로세스 작업도 운영체제와 통신 가능해야 한다.
1. 사용자가 프로그램 실행
2. 프로세스 생성
3. 준비 리스트에 추가
4. 다른 프로세스들이 프로세서 사용을 마치면 준비 리스트의 머리쪽으로 이동 (= 레디큐)

- 인털럽팅 클록(간격 타이머) : 시스템의 프로세서 독점 방지를 위한 프로세스가 특정 시간 간격 or 퀀텀동안만 실행 가능하게 함
	- 프로세스가 시간 만료되기 전, 프로세서 자발적 반납하지 않을 경우
	  -> 인터럽트 발생
	- 프로세서에 대한 제어를 운영체제가 갖는다.
- 입출력 완료 대기시 프로세스가 자발적으로 프로세서 반납(셀프 블록)

### 3.2프로세스 상태와 상태 전이
#### 프로세스 상태(Process state)
- 디스패칭 : 준비 리스트에 있는 첫번째 프로세스에 프로세서를 할당하는것
- 운영체제는 한 프로세스가 시스템의 프로세서를 독점하는 일을 방지 하려고 하드웨어 인터럽팅 클록(간격 타이머 : interrupting clock)을 두어, 프로세스가 특정 시간 간격 또는 퀀텀 동안만 실행할수 있게함.
	- 10m/s 정도..

#### 상태 전이(state transition)
- 네가지 상태 전이 정의
	1. 프로세서를 할당 받으면 프로세스의 상태가 준비 상태 -> 실행상태로 전이
	2. 할당 받은 시간 만료 -> 실행상태 -> 준비 상태
	3. 프로세스가 블록되면 실행 상태 -> 블록상태로 전이
	4. 대기하던 이벤트 완료시 프로세스 깨어남, 블록 상태 -> 준비 상태로 전이

>[!note] interrupt service Routine
>현재 실행중인 프로세스 중지 -> 다음 Ready큐에 있는 프로세스를 실행할수 있도록 스위칭 시키는 역할

![[Pasted image 20250419141734.png]]

### 3.3 프로세스 제어 블록, 프로세스 기술자
#### PCB는 운영체제가 생성한 프로세스를 관리하는데 필요한 정보 보관(=정보 보관소)

- Process identification number(PID)
- 프로그램 상태(process state)
- 프로그램 카운터(program counter) : 해당 프로그램이 다음번에 시작 될 번지수
- 스케쥴링 우선순위(scheduling priority) : 프로세스마다 우선순위가 있다. 해당 정보(어떤 작업을 얼마나 했는지에 대한 기록 저장)가 있음
- 권한(credential) : 프로세스가 접근할수 있는 자원을 결정하는 정보
- 프로세스의 부모 프로세스(parent process) : 해당 프로세스를 생성한 프로세스를 가르키는 포인터
- 프로세스의 자식 프로세스(child process) : 해당 프로세스가 생성한 프로세서들을 가리키는 포인터
- 프로세스의 데이터와 명령어가 있는 메모리 위치를 가리키는 포인터
- 프로세스에 할당된 자원들을 가리키는 포인터

>[!note] 프로세스끼리 커뮤니케이션
>서로 다른 프로그램이 어떤 동작을 수행하기 전, 프로그램 끼리 소통 -> 충돌 방지 + 순서 정함.
>- ex_) 프로그램 다운 중에 실행버튼을 눌렀을 때 동작되면 안되기 때문에 프로세스끼리 커뮤니케이션 함.

### 3.4 프로세스 제어 블록, 프로세스 기술자
#### 프로세스 테이블(process table)
- 운영체제는 각 프로세스의 PCB를 가리키는 [[포인터]]를 시스템 전체 or 사용자별 프로세스 테이블에 유지
- PCB에 빠르게 접근 가능
1.  프로세스 종료
2. 운영체제는 프로세스의 메모리와 기타 자원을 해제
3. 다른 프로세스가 사용 가능
4. 프로세스 테이블에서 해당 프로세스를 제거

- 운영체제는 프로세스가 상태 전이시 해당 프로세스의 PCB 안에 있는 상태 정보도 갱신해야 함.

>[!note] PCB(Process Control Block) : 프로세스 제어 블록
>프로그램이 어디까지 실행이 완료 되었고, 다음은 어디부터 시작하며, 로컬 변수의 값들 등등의 정보가 있다.

![[Pasted image 20250419143834.png]]

### 3.5 프로세스 연산
- 프로세스는 새로운 프로세스를 생성(spawn)
	- 부모 프로세스(parent process)
		- 프로세스를 생성하는 프로세스
	- 자식 프로세스(child process)
		- 생성된 프로세스
	- 각 자식 프로세서는 정확히 한 부모 프로세스를 통해 생성
	- 프로세스가 소멸될 경우(1or2)
		1. 부모 프로세스가 소멸될떄 자동으로 자식 프로세스까지 소멸
		2. 자식 프로세스가 부모에 독립적으로 계속 실행 -> 부모 프로세스의 소멸이 자식에 영향 X

![[Pasted image 20250419144143.png]]

 ![[Pasted image 20250419144218.png]]

### 3.6 일시정지와 재시작
- 프로세스 일시 정지 ( = 롤에서 애들 한타하는데 존야쓴거랑 같음)
	- 아직 소멸되지는 않고 프로세서를 차지하려고 하는 경쟁 대기열에서 무기한으로 배제
		- 프로세스를 기다리지 않음
	- 악성 코드 실행과 같은 보안 위협 요인 추적 or 디버깅시 유용
	- 일시 정지는 해당 프로세스 혹은 다른 프로세스에 의해 발생 
		- 실행중인 프로세스가 일시정지 가능
	- 일시 정지 블록 상태 프로세스는 다른 프로세스에 의해 지시작 가능
		- 단일 프로세스의 경우 일시정지 시킬 다른 프로세서가 동작 X
	- 일시 정지 상태
		1. 일시정지 준비(suspended ready)
		2. 일시정지 블록(suspended blocked)

>[!note] 중지 VS 일시정지
>- 블록 : 그냥 이벤트 끝날때까지 기다리고 그 다음에 실행하는게 낫지 않음?
>- 일시정지 : 근데 일시정지는 우선순위가 높기 때문에 즉시 수행됨(위험도 차이)

![[Pasted image 20250419144851.png]]



